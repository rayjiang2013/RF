<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="HL_API_Help.xml" data-mc-path-to-help-system="../../../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Appendix|IxRouter (only) Examples">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" /><title>IGMP (IGMPv3_different_operations.tcl)</title>
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../../HL_API_Help.htm#HLTAPI/HLTAPI Examples/IxRouter (only) Examples/IGMPv3_different_operations.htm">Open topic with navigation</a>
        </p>
        <h3><a name="top"></a>IGMP (IGMPv3_different_operations.tcl)</h3>
        <p class="CodeBlock">          ################################################################################</p>
        <p class="CodeBlock"><a name="0_pgfId-3553161"></a>
                                                                               #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553162"></a>
          # Description: #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553163"></a>
          # This sample performs various operation. It creates, modifies and deletes #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553164"></a>
          # IGMP hosts. Creates group pools and source pools. Adds, modifies and #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553165"></a>
          # deletes group and source pools to IGMP hosts. Leaves and joins groups #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553166"></a>
          # pools. #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553167"></a>
                                                                               #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553168"></a>
          # Module: #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553169"></a>
          # The sample was tested on a LM100TXS8 module. #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553170"></a>
                                                                               #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553171"></a>
          ################################################################################</p>
        <p class="CodeBlock"><a name="0_pgfId-3553172"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553173"></a>
          package require Ixia</p>
        <p class="CodeBlock"><a name="0_pgfId-3553174"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553175"></a>
          set test_name [info script]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553176"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553177"></a>
          set chassisIP 127.0.0.1</p>
        <p class="CodeBlock"><a name="0_pgfId-3553178"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553179"></a>
          set port_list1 10/1</p>
        <p class="CodeBlock"><a name="0_pgfId-3553180"></a>
          set port_list2 10/2</p>
        <p class="CodeBlock"><a name="0_pgfId-3553181"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553182"></a>
          # Connect to the chassis,reset to factory defaults and take ownership</p>
        <p class="CodeBlock"><a name="0_pgfId-3553183"></a>
          set connect_status [ixia::connect \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553184"></a>
                  -reset \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553185"></a>
                  -device $chassisIP \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553186"></a>
                  -port_list $port_list1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553187"></a>
                  -username ixiaApiUser ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553188"></a>
          if {[keylget connect_status status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553189"></a>
              return "FAIL - $test_name - [keylget connect_status log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553190"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553191"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553192"></a>
          set port_handle1 [keylget connect_status port_handle.$chassisIP.$port_list1]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553193"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553194"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553195"></a>
          ########################################</p>
        <p class="CodeBlock"><a name="0_pgfId-3553196"></a>
          # Configure interface in the test #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553197"></a>
          # IPv4 #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553198"></a>
          ########################################</p>
        <p class="CodeBlock"><a name="0_pgfId-3553199"></a>
          set interface_status [ixia::interface_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553200"></a>
                  -port_handle $port_handle1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553201"></a>
                  -autonegotiation 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553202"></a>
                  -duplex full \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553203"></a>
                  -speed ether100 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553204"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553205"></a>
          if {[keylget interface_status status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553206"></a>
              return "FAIL - $test_name - [keylget interface_status log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553207"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553208"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553209"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553210"></a>
          # Create session1</p>
        <p class="CodeBlock"><a name="0_pgfId-3553211"></a>
          set igmp_status_1 [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553212"></a>
                  -port_handle $port_handle1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553213"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553214"></a>
                  -reset \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553215"></a>
                  -msg_interval 167 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553216"></a>
                  -igmp_version v3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553217"></a>
                  -ip_router_alert 1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553218"></a>
                  -general_query 1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553219"></a>
                  -group_query 1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553220"></a>
                  -unsolicited_report_interval 200 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553221"></a>
                  -suppress_report 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553222"></a>
                  -max_response_control 1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553223"></a>
                  -max_response_time 50 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553224"></a>
                  -intf_ip_addr 10.41.1.2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553225"></a>
                  -neighbor_intf_ip_addr 10.41.1.1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553226"></a>
                  -vlan_id_mode increment \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553227"></a>
                  -vlan_id 10 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553228"></a>
                  -vlan_id_step 1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553229"></a>
                  -vlan_user_priority 7 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553230"></a>
          if {[keylget igmp_status_1 status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553231"></a>
              return "FAIL - $test_name - [keylget igmp_status_1 log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553232"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553233"></a>
          puts "Create: $igmp_status_1"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553234"></a>
          set session1 [keylget igmp_status_1 handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553235"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553236"></a>
          # Create session2</p>
        <p class="CodeBlock"><a name="0_pgfId-3553237"></a>
          set igmp_status_2 [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553238"></a>
                  -port_handle $port_handle1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553239"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553240"></a>
                  -igmp_version v3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553241"></a>
                  -intf_ip_addr 10.41.1.3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553242"></a>
                  -neighbor_intf_ip_addr 10.41.1.1 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553243"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553244"></a>
          if {[keylget igmp_status_2 status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553245"></a>
              return "FAIL - $test_name - [keylget igmp_status_2 log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553246"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553247"></a>
          puts "Create: $igmp_status_2"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553248"></a>
          set session2 [keylget igmp_status_1 handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553249"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553250"></a>
          # Create group pools 1 - 5</p>
        <p class="CodeBlock"><a name="0_pgfId-3553251"></a>
          for {set i 0} {$i &lt; 5} {incr i} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553252"></a>
              set retGroup [::ixia::emulation_multicast_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553253"></a>
                      -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553254"></a>
                      -num_groups 5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553255"></a>
                      -ip_addr_start [mpexpr 225 + $i].0.1.1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553256"></a>
                      -ip_addr_step 0.0.1.0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553257"></a>
                      -ip_prefix_len 24 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553258"></a>
        </p>
        <p class="CodeBlock"><a name="0_pgfId-3553259"></a>
              if {[keylget retGroup status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553260"></a>
                  return "FAIL - $test_name - [keylget retGroup log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553261"></a>
              }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553262"></a>
              puts "Create: $retGroup"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553263"></a>
              set temp_group group_pool</p>
        <p class="CodeBlock"><a name="0_pgfId-3553264"></a>
              set temp_group [append temp_group [mpexpr $i + 1]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553265"></a>
              set $temp_group [keylget retGroup handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553266"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553267"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553268"></a>
          # Create group pools 1 - 6</p>
        <p class="CodeBlock"><a name="0_pgfId-3553269"></a>
          for {set i 0} {$i &lt; 5} {incr i} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553270"></a>
              set retSource [::ixia::emulation_multicast_source_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553271"></a>
                      -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553272"></a>
                      -num_sources 5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553273"></a>
                      -ip_addr_start 10.[mpexpr 35 + $i].1.1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553274"></a>
                      -ip_addr_step 0.0.1.0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553275"></a>
                      -ip_prefix_len 24 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553276"></a>
              if {[keylget retSource status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553277"></a>
                  return "FAIL - $test_name - [keylget retSource log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553278"></a>
              }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553279"></a>
              puts "Create: $retSource"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553280"></a>
              set temp_source source_pool</p>
        <p class="CodeBlock"><a name="0_pgfId-3553281"></a>
              set temp_source [append temp_source [mpexpr $i + 1]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553282"></a>
              set $temp_source [keylget retSource handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553283"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553284"></a>
          set source_pool6 "wrong_source_pool"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553285"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553286"></a>
          # Create session1 group_member1</p>
        <p class="CodeBlock"><a name="0_pgfId-3553287"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553288"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553289"></a>
                  -session_handle $session1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553290"></a>
                  -group_pool_handle $group_pool1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553291"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553292"></a>
                  [list $source_pool1 $source_pool2 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553293"></a>
        </p>
        <p class="CodeBlock"><a name="0_pgfId-3553294"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553295"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553296"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553297"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553298"></a>
          set group_member1 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553299"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553300"></a>
          # Create session1 group_member2</p>
        <p class="CodeBlock"><a name="0_pgfId-3553301"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553302"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553303"></a>
                  -session_handle $session1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553304"></a>
                  -group_pool_handle $group_pool2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553305"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553306"></a>
                  [list $source_pool2 $source_pool3 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553307"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553308"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553309"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553310"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553311"></a>
          set group_member2 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553312"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553313"></a>
          # Create session1 group_member3</p>
        <p class="CodeBlock"><a name="0_pgfId-3553314"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553315"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553316"></a>
                  -session_handle $session1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553317"></a>
                  -group_pool_handle $group_pool3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553318"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553319"></a>
                  [list $source_pool3 $source_pool4 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553320"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553321"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553322"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553323"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553324"></a>
          set group_member3 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553325"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553326"></a>
          # Create session2 group_member4</p>
        <p class="CodeBlock"><a name="0_pgfId-3553327"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553328"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553329"></a>
                  -session_handle $session2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553330"></a>
                  -group_pool_handle $group_pool1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553331"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553332"></a>
                  [list $source_pool1 $source_pool3 $source_pool5 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553333"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553334"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553335"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553336"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553337"></a>
          set group_member4 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553338"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553339"></a>
          # Create session2 group_member5</p>
        <p class="CodeBlock"><a name="0_pgfId-3553340"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553341"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553342"></a>
                  -session_handle $session2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553343"></a>
                  -group_pool_handle $group_pool1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553344"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553345"></a>
                  [list $source_pool2 $source_pool4]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553346"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553347"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553348"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553349"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553350"></a>
          set group_member5 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553351"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553352"></a>
          # Modify group_member5</p>
        <p class="CodeBlock"><a name="0_pgfId-3553353"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553354"></a>
                  -mode modify \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553355"></a>
                  -handle $group_member5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553356"></a>
                  -group_pool_handle $group_pool2 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553357"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553358"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553359"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553360"></a>
          puts "Modify: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553361"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553362"></a>
          # Modify group_member2</p>
        <p class="CodeBlock"><a name="0_pgfId-3553363"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553364"></a>
                  -mode modify \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553365"></a>
                  -handle $group_member2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553366"></a>
                  -source_pool_handle [list $source_pool3 $source_pool4]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553367"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553368"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553369"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553370"></a>
          puts "Modify: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553371"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553372"></a>
          # Modify group_member3</p>
        <p class="CodeBlock"><a name="0_pgfId-3553373"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553374"></a>
                  -mode modify \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553375"></a>
                  -handle $group_member3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553376"></a>
                  -source_pool_handle [list $source_pool5 $source_pool1]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553377"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553378"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553379"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553380"></a>
          puts "Modify: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553381"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553382"></a>
          # Create session3,4</p>
        <p class="CodeBlock"><a name="0_pgfId-3553383"></a>
          set igmp_status_3 [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553384"></a>
                  -port_handle $port_handle1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553385"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553386"></a>
                  -msg_interval 167 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553387"></a>
                  -igmp_version v3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553388"></a>
                  -ip_router_alert 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553389"></a>
                  -general_query 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553390"></a>
                  -group_query 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553391"></a>
                  -unsolicited_report_interval 200 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553392"></a>
                  -suppress_report 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553393"></a>
                  -max_response_control 1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553394"></a>
                  -max_response_time 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553395"></a>
                  -intf_ip_addr 10.41.1.4 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553396"></a>
                  -neighbor_intf_ip_addr 10.41.1.1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553397"></a>
                  -count 2 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553398"></a>
          if {[keylget igmp_status_3 status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553399"></a>
              return "FAIL - $test_name - [keylget igmp_status_3 log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553400"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553401"></a>
          puts "Create: $igmp_status_3"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553402"></a>
          set session3 [lindex [keylget igmp_status_3 handle] 0]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553403"></a>
          set session4 [lindex [keylget igmp_status_3 handle] 1]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553404"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553405"></a>
          # Create session3 group_member6</p>
        <p class="CodeBlock"><a name="0_pgfId-3553406"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553407"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553408"></a>
                  -session_handle $session3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553409"></a>
                  -group_pool_handle $group_pool3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553410"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553411"></a>
                  [list $source_pool3 $source_pool4 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553412"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553413"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553414"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553415"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553416"></a>
          set group_member6 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553417"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553418"></a>
          # ERROR - Create session3 group_member7 - source6 is not valid</p>
        <p class="CodeBlock"><a name="0_pgfId-3553419"></a>
          # Returned status 0 </p>
        <p class="CodeBlock"><a name="0_pgfId-3553420"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553421"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553422"></a>
                  -session_handle $session4 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553423"></a>
                  -group_pool_handle $group_pool2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553424"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553425"></a>
                  [list $source_pool5 $source_pool6 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553426"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553427"></a>
          puts "NOT Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553428"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553429"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553430"></a>
          # Create session3 group_member7</p>
        <p class="CodeBlock"><a name="0_pgfId-3553431"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553432"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553433"></a>
                  -session_handle $session4 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553434"></a>
                  -group_pool_handle $group_pool2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553435"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553436"></a>
                  [list $source_pool5 $source_pool1 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553437"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553438"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553439"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553440"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553441"></a>
          set group_member7 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553442"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553443"></a>
          # This doesn't take into consideration -port_handle</p>
        <p class="CodeBlock"><a name="0_pgfId-3553444"></a>
          # -port_handle is for start and stop only</p>
        <p class="CodeBlock"><a name="0_pgfId-3553445"></a>
          set retMember [::ixia::emulation_igmp_control \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553446"></a>
                  -mode leave \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553447"></a>
                  -port_handle $port_handle1 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553448"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553449"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553450"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553451"></a>
          puts "Start: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553452"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553453"></a>
          # Joins all groups on all sessions</p>
        <p class="CodeBlock"><a name="0_pgfId-3553454"></a>
          set retMember [::ixia::emulation_igmp_control \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553455"></a>
                  -mode join ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553456"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553457"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553458"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553459"></a>
          puts "Join: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553460"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553461"></a>
          # Disable session3</p>
        <p class="CodeBlock"><a name="0_pgfId-3553462"></a>
          set igmpConf [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553463"></a>
                  -handle $session3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553464"></a>
                  -mode disable ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553465"></a>
          if {[keylget igmpConf status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553466"></a>
              return "FAIL - $test_name - [keylget igmpConf log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553467"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553468"></a>
          puts "Disable: $igmpConf"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553469"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553470"></a>
          # Enable session3</p>
        <p class="CodeBlock"><a name="0_pgfId-3553471"></a>
          set igmpConf [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553472"></a>
                  -handle $session3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553473"></a>
                  -mode enable ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553474"></a>
          if {[keylget igmpConf status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553475"></a>
              return "FAIL - $test_name - [keylget igmpConf log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553476"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553477"></a>
          puts "Enable: $igmpConf"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553478"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553479"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553480"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553481"></a>
          # Connect to the chassis,reset to factory defaults and take ownership</p>
        <p class="CodeBlock"><a name="0_pgfId-3553482"></a>
          set connect_status [ixia::connect \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553483"></a>
                  -reset \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553484"></a>
                  -device $chassisIP \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553485"></a>
                  -port_list $port_list2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553486"></a>
                  -username ixiaApiUser ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553487"></a>
          if {[keylget connect_status status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553488"></a>
              return "FAIL - $test_name - [keylget connect_status log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553489"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553490"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553491"></a>
          set port_handle2 [keylget connect_status port_handle.$chassisIP.$port_list2]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553492"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553493"></a>
          ########################################</p>
        <p class="CodeBlock"><a name="0_pgfId-3553494"></a>
          # Configure interface in the test #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553495"></a>
          # IPv4 #</p>
        <p class="CodeBlock"><a name="0_pgfId-3553496"></a>
          ########################################</p>
        <p class="CodeBlock"><a name="0_pgfId-3553497"></a>
          set interface_status [ixia::interface_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553498"></a>
                  -port_handle $port_handle2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553499"></a>
                  -autonegotiation 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553500"></a>
                  -duplex full \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553501"></a>
                  -speed ether100 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553502"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553503"></a>
          if {[keylget interface_status status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553504"></a>
              return "FAIL - $test_name - [keylget interface_status log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553505"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553506"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553507"></a>
          # Create session5,6,7</p>
        <p class="CodeBlock"><a name="0_pgfId-3553508"></a>
          set igmp_status_4 [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553509"></a>
                  -port_handle $port_handle2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553510"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553511"></a>
                  -reset \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553512"></a>
                  -igmp_version v3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553513"></a>
                  -ip_router_alert 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553514"></a>
                  -general_query 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553515"></a>
                  -group_query 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553516"></a>
                  -unsolicited_report_interval 100 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553517"></a>
                  -suppress_report 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553518"></a>
                  -max_response_control 1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553519"></a>
                  -max_response_time 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553520"></a>
                  -intf_ip_addr 10.42.1.4 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553521"></a>
                  -neighbor_intf_ip_addr 10.42.1.1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553522"></a>
                  -count 3 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553523"></a>
          if {[keylget igmp_status_4 status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553524"></a>
              return "FAIL - $test_name - [keylget igmp_status_4 log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553525"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553526"></a>
          puts "Create: $igmp_status_4"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553527"></a>
          set session5 [lindex [keylget igmp_status_4 handle] 0]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553528"></a>
          set session6 [lindex [keylget igmp_status_4 handle] 1]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553529"></a>
          set session7 [lindex [keylget igmp_status_4 handle] 1]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553530"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553531"></a>
          # Create session5 group_member8</p>
        <p class="CodeBlock"><a name="0_pgfId-3553532"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553533"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553534"></a>
                  -session_handle $session5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553535"></a>
                  -group_pool_handle $group_pool1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553536"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553537"></a>
                  [list $source_pool1 $source_pool2 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553538"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553539"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553540"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553541"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553542"></a>
          set group_member8 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553543"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553544"></a>
          # ERROR - Create session5 group_member9 - source6 is not valid</p>
        <p class="CodeBlock"><a name="0_pgfId-3553545"></a>
          # Returned status 0</p>
        <p class="CodeBlock"><a name="0_pgfId-3553546"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553547"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553548"></a>
                  -session_handle $session5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553549"></a>
                  -group_pool_handle $group_pool2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553550"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553551"></a>
                  [list $source_pool5 $source_pool6 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553552"></a>
          puts "NOT Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553553"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553554"></a>
          # Create session6 group_member9</p>
        <p class="CodeBlock"><a name="0_pgfId-3553555"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553556"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553557"></a>
                  -session_handle $session6 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553558"></a>
                  -group_pool_handle $group_pool3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553559"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553560"></a>
                  [list $source_pool3 $source_pool4 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553561"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553562"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553563"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553564"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553565"></a>
          set group_member9 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553566"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553567"></a>
          # Create session6 group_member10</p>
        <p class="CodeBlock"><a name="0_pgfId-3553568"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553569"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553570"></a>
                  -session_handle $session6 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553571"></a>
                  -group_pool_handle $group_pool4 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553572"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553573"></a>
                  [list $source_pool1 $source_pool2 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553574"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553575"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553576"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553577"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553578"></a>
          set group_member10 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553579"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553580"></a>
          # Create session5 group_member11</p>
        <p class="CodeBlock"><a name="0_pgfId-3553581"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553582"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553583"></a>
                  -session_handle $session5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553584"></a>
                  -group_pool_handle $group_pool2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553585"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553586"></a>
                  [list $source_pool5 $source_pool2 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553587"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553588"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553589"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553590"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553591"></a>
          set group_member11 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553592"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553593"></a>
          # Disable sessions on different ports</p>
        <p class="CodeBlock"><a name="0_pgfId-3553594"></a>
          set retMember [::ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553595"></a>
                  -mode disable \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553596"></a>
                  -handle [list $session1 $session5 $session6] ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553597"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553598"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553599"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553600"></a>
          puts "Disable: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553601"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553602"></a>
          # Enable sessions on different ports</p>
        <p class="CodeBlock"><a name="0_pgfId-3553603"></a>
          set retMember [::ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553604"></a>
                  -mode enable \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553605"></a>
                  -handle [list $session1 $session5 $session6]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553606"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553607"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553608"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553609"></a>
          puts "Enable: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553610"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553611"></a>
          # Modify session6 group_member10</p>
        <p class="CodeBlock"><a name="0_pgfId-3553612"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553613"></a>
                  -mode modify \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553614"></a>
                  -handle $group_member10 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553615"></a>
                  -group_pool_handle $group_pool5 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553616"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553617"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553618"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553619"></a>
          puts "Modify: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553620"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553621"></a>
          # Disable all sessions on port 1</p>
        <p class="CodeBlock"><a name="0_pgfId-3553622"></a>
          set igmpConf [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553623"></a>
                  -port_handle $port_handle1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553624"></a>
                  -mode disable_all ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553625"></a>
          if {[keylget igmpConf status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553626"></a>
              return "FAIL - $test_name - [keylget igmpConf log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553627"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553628"></a>
          puts "Disable_all:$igmpConf"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553629"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553630"></a>
          # Disable sessions 2 and 4</p>
        <p class="CodeBlock"><a name="0_pgfId-3553631"></a>
          set igmpConf [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553632"></a>
                  -handle [list $session2 $session4]\</p>
        <p class="CodeBlock"><a name="0_pgfId-3553633"></a>
                  -mode disable ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553634"></a>
          if {[keylget igmpConf status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553635"></a>
              return "FAIL - $test_name - [keylget igmpConf log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553636"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553637"></a>
          puts "Disable: $igmpConf"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553638"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553639"></a>
          # Modify session1 and session7</p>
        <p class="CodeBlock"><a name="0_pgfId-3553640"></a>
          set igmpConf [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553641"></a>
                  -handle [list $session1 $session7]\</p>
        <p class="CodeBlock"><a name="0_pgfId-3553642"></a>
                  -mode modify \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553643"></a>
                  -suppress_report 1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553644"></a>
                  -max_response_control 0 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553645"></a>
                  -filter_mode exclude ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553646"></a>
          if {[keylget igmpConf status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553647"></a>
              return "FAIL - $test_name - [keylget igmpConf log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553648"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553649"></a>
          puts "Modify: $igmpConf"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553650"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553651"></a>
          # Enable all sessions on ports</p>
        <p class="CodeBlock"><a name="0_pgfId-3553652"></a>
          set igmpConf [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553653"></a>
                  -port_handle [list $port_handle1 $port_handle2] \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553654"></a>
                  -mode enable_all ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553655"></a>
          if {[keylget igmpConf status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553656"></a>
              return "FAIL - $test_name - [keylget igmpConf log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553657"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553658"></a>
          puts "Enable_all: $igmpConf"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553659"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553660"></a>
          # Disable all sessions on ports</p>
        <p class="CodeBlock"><a name="0_pgfId-3553661"></a>
          set igmpConf [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553662"></a>
                  -port_handle [list $port_handle1 $port_handle2] \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553663"></a>
                  -mode disable_all ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553664"></a>
          if {[keylget igmpConf status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553665"></a>
              return "FAIL - $test_name - [keylget igmpConf log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553666"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553667"></a>
          puts "Disable_all:$igmpConf"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553668"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553669"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553670"></a>
          # Enable all sessions on ports</p>
        <p class="CodeBlock"><a name="0_pgfId-3553671"></a>
          set igmpConf [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553672"></a>
                  -port_handle $port_handle1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553673"></a>
                  -mode enable_all ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553674"></a>
          if {[keylget igmpConf status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553675"></a>
              return "FAIL - $test_name - [keylget igmpConf log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553676"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553677"></a>
          puts "Enable_all: $igmpConf"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553678"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553679"></a>
          # Enable all sessions on ports</p>
        <p class="CodeBlock"><a name="0_pgfId-3553680"></a>
          set igmpConf [ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553681"></a>
                  -port_handle $port_handle2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553682"></a>
                  -mode enable_all ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553683"></a>
          if {[keylget igmpConf status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553684"></a>
              return "FAIL - $test_name - [keylget igmpConf log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553685"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553686"></a>
          puts "Enable_all: $igmpConf"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553687"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553688"></a>
          # Delete group_member11</p>
        <p class="CodeBlock"><a name="0_pgfId-3553689"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553690"></a>
                  -mode delete \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553691"></a>
                  -handle $group_member11 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553692"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553693"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553694"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553695"></a>
          puts "Delete: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553696"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553697"></a>
          # Create session5 group_member11</p>
        <p class="CodeBlock"><a name="0_pgfId-3553698"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553699"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553700"></a>
                  -session_handle $session5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553701"></a>
                  -group_pool_handle $group_pool3 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553702"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553703"></a>
                  [list $source_pool3 $source_pool2 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553704"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553705"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553706"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553707"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553708"></a>
          set group_member11 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553709"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553710"></a>
          # Create session5 group_member12</p>
        <p class="CodeBlock"><a name="0_pgfId-3553711"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553712"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553713"></a>
                  -session_handle $session5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553714"></a>
                  -group_pool_handle $group_pool5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553715"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553716"></a>
                  [list $source_pool1 $source_pool2 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553717"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553718"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553719"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553720"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553721"></a>
          set group_member12 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553722"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553723"></a>
          # Create session7 group_member13</p>
        <p class="CodeBlock"><a name="0_pgfId-3553724"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553725"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553726"></a>
                  -session_handle $session7 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553727"></a>
                  -group_pool_handle $group_pool5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553728"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553729"></a>
                  [list $source_pool1 $source_pool2 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553730"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553731"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553732"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553733"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553734"></a>
          set group_member13 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553735"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553736"></a>
          # Remove all groups from session5</p>
        <p class="CodeBlock"><a name="0_pgfId-3553737"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553738"></a>
                  -mode clear_all \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553739"></a>
                  -session_handle $session5 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553740"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553741"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553742"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553743"></a>
          puts "Clear_all: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553744"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553745"></a>
          # ERROR - Delete one group from session5 - the group does not exist anymore</p>
        <p class="CodeBlock"><a name="0_pgfId-3553746"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553747"></a>
                  -mode delete \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553748"></a>
                  -handle $group_member11 ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553749"></a>
          puts "NOT Delete: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553750"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553751"></a>
          # Create session5 group_member8</p>
        <p class="CodeBlock"><a name="0_pgfId-3553752"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553753"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553754"></a>
                  -session_handle $session5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553755"></a>
                  -group_pool_handle $group_pool1 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553756"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553757"></a>
                  [list $source_pool1 $source_pool2 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553758"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553759"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553760"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553761"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553762"></a>
          set group_member8 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553763"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553764"></a>
          # Create session5 group_member11</p>
        <p class="CodeBlock"><a name="0_pgfId-3553765"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553766"></a>
                  -mode create \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553767"></a>
                  -session_handle $session5 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553768"></a>
                  -group_pool_handle $group_pool2 \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553769"></a>
                  -source_pool_handle \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553770"></a>
                  [list $source_pool4 $source_pool2 ]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553771"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553772"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553773"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553774"></a>
          puts "Create: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553775"></a>
          set group_member11 [keylget retMember handle]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553776"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553777"></a>
          # Delete one groups from session1 and session6</p>
        <p class="CodeBlock"><a name="0_pgfId-3553778"></a>
          set retMember [::ixia::emulation_igmp_group_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553779"></a>
                  -mode delete \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553780"></a>
                  -handle [list $group_member2 $group_member10]]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553781"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553782"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553783"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553784"></a>
          puts "Delete: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553785"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553786"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553787"></a>
          # Delete session2 and session6</p>
        <p class="CodeBlock"><a name="0_pgfId-3553788"></a>
          set retMember [::ixia::emulation_igmp_config \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553789"></a>
                  -mode delete \</p>
        <p class="CodeBlock"><a name="0_pgfId-3553790"></a>
                  -handle [list $session2 $session6] ]</p>
        <p class="CodeBlock"><a name="0_pgfId-3553791"></a>
          if {[keylget retMember status] != $SUCCESS} {</p>
        <p class="CodeBlock"><a name="0_pgfId-3553792"></a>
              return "FAIL - $test_name - [keylget retMember log]"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553793"></a>
          }</p>
        <p class="CodeBlock"><a name="0_pgfId-3553794"></a>
          puts "Delete: $retMember"</p>
        <p class="CodeBlock"><a name="0_pgfId-3553795"></a>
          &#160;</p>
        <p class="CodeBlock"><a name="0_pgfId-3553796"></a>
          return "SUCCESS - $test_name - [clock format [clock seconds]]"</p>
    </body>
</html>